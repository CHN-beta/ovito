.. _howto.marker_particles:

Visualize the motion of marker particles
========================================

.. image:: /images/howtos/shear_marker.gif
   :width: 40%
   :align: right

In this step-by-step tutorial you will create an animation of an MD simulation of a simple crystal deformation experiment
like the one shown on the right. You will learn how to highlight a group of atoms,
initially arranged in a stripe, with a marker color to visualize the internal deformation 
within the crystal during the course of the simulation. 

1. Load the simulation trajectory
"""""""""""""""""""""""""""""""""

Start by downloading the simulation trajectory file 
`shear_new_format.dump.bin <https://gitlab.com/stuko/ovito/-/blob/master/tests/files/LAMMPS/shear_new_format.dump.bin>`__
for this tutorial to your computer. It is an output file generated by the simulation script ``shear``
from the `LAMMPS examples folder <https://docs.lammps.org/Examples.html>`__. Use the :menuselection:`File --> Load File` function
to open the file :file:`shear_new_format.dump.bin` in OVITO.

...

Marker or tracer particles are a way to make the internal deformation or diffusion within a system visible 
as shown in the simple example on the right. The following recipe explains how to 
make sure that the set of selected marker particles, once defined on the first frame,
remains the same over the entire course of the simulation.

The example animation has been created as follows:

1.  First we apply the :ref:`particles.modifiers.slice` modifier at frame 0 of the simulation (the initial state) to select a stripe of atoms. Activate the modifier's :guilabel:`Create selection` option
    to let the modifier select the atoms instead of deleting them. 

#.  We then apply the :ref:`particles.modifiers.freeze_property` 
    modifier and choose the ``Selection`` particle property as the one
    to be frozen. The modifier automatically takes a snapshot of the particle selection state
    generated by the :ref:`particles.modifiers.slice` modifier and preserves it over time.

#.  Finally the :ref:`particles.modifiers.assign_color` modifier is used to assign a special marker color to the selected particles.
